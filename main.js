const profiles = [

  {
    id: 1,
    name: "Marceline",
    username: "vampireQueen",
    bio: "A fun-loving and playful 1,000-year-old vampire queen.",
    followers: "3.5k",
    following: 13,
    stars: 666,
    location: "a dark cave, Land of Ooo",
    email: "vampire-queen@candymail.com",
    website: "marceline-music.com",
    twitter: "@marceline",
    highlights: ["Rockstar", "Vampire hunter", "Heir to the Nightosphere"],
    repos:[
      {
        repoName: "Fry Song",
        description: "Daddy, why did you eat my fries?",
        tags: ["music", "sad", "daddy issues"],
      },

      {
        repoName: "I'm Just Your Problem",
        description: "Sorry I'm not made of sugar, Am I not sweet enough for you?",
        tags: ["music", "angsty", "it's complicated"],
      },

      {
        repoName: "Remember You",
        description: " Marceline, is it just you and me in the wreckage of the world?",
        tags: ["music", "sad", "loss", "forgiveness"],
      },

      {
        repoName: "Everything Stays",
        description: "Let's go in the garden, You'll find something waiting, Right there where you left it",
        tags: ["music", "lullaby", "loss"],
      },
    ],

    projects:[
      {
        projectName: "Save Simon",
        description: "Rescue simon from the insanity of the Ice Crown",
        updated: "2 weeks ago",
      },

      {
        projectName: "Kill all vampires",
        description: "Hun down and stake all five resurrected vampires",
        updated: "2 days ago",
      },
      
      {
        projectName: "Write a Power Ballad",
        description: "Shred hearts and minds with my newest lyrical masterpiece",
        updated: "2 mins ago",
      },
    ],
  },

  
  {
    id: 2,
    name: "Princess Bubblegum",
    username: "PB",
    bio: "18 for 800 years. Want to see my science lab?",
    followers: "50k",
    following: 5,
    stars: "3k",
    location: "the castle in the Candy Kingdom, Land of Ooo",
    email: "bonnie@candymail.com",
    website: "bubblegum-labs.com",
    twitter: "@PB",
    highlights: ["Creator of the Candy People", "Princess of the Candy Kingdom", "Mad scientist"],
    repos:[
      {
        repoName: "Candy People",
        description: "Loyal subjects and sweet friends to pass the centuries with.",
        tags: ["science", "experiement", "candy"],
      },
 
 
      {
        repoName: "Gumball Guardians",
        description: "Protectors of the Candy Kingdom. Made to use lethal force.",
        tags: ["defense", "science", "experiment"],
      },
 
 
      {
        repoName: "Lemongrab",
        description: "Failed experiment.",
        tags: ["lemons", "failure", "avoid"],
      },
 
 
      {
        repoName: "Uncle Gumbald",
        description: "Overly ambitious and scheming creation determined to destroy me.",
        tags: ["family", "failure", "experiment"],
      },
    ],
 
 
    projects:[
      {
        projectName: "Candy kingdom",
        description: "Create candy people and a place for them to live happily",
        updated: "2 weeks ago",
      },
 
 
      {
        projectName: "Cure Marceline",
        description: "Create a vampire cure for Marceline. UPDATE: successful, but best not to repeaat.",
        updated: "2 years ago",
      },
     
      {
        projectName: "Candy Kingdom Defense",
        description: "Gumball guardians, banana guards, rattelballs, and other defensive measures for the protection of the candy people.",
        updated: "2 mins ago",
      },
    ],
  },
     
    {
    id: 3,
    name: "Jake",
    username: "magicDog",
    bio: "A fun-loving and playful 1,000-year-old vampire queen.",
    followers: "6k",
    following: 3,
    stars: "15",
    location: "the Tree House, Land of Ooo",
    email: "thedog@candymail.com",
    website: "food-jams.com",
    twitter: "@jake",
    highlights: ["Stretchy Powers", "Proud Papa", "Master chef"],
    repos:[
      {
        repoName: "Bacon Pancakes",
        description: "Bacon pancakes, makin' bacon pancakes, Take some bacon and I'll put it in a pancake, Bacon pancakes, that's what it's gonna make, Bacon pancaaake!",
        tags: ["pancakes", "song", "food"],
      },
 
 
      {
        repoName: "Money",
        description: "M-M-M, Money. M-M-M, Money. Money.Money. Money. Money. M-M-M, Money.",
        tags: ["music", "money", "adventure"],
      },
 
 
      {
        repoName: "My Name is Jake",
        description: "My name is Jake and I love my life, Kissin' on Lady cause she's basically my wife",
        tags: ["music", "rap", "autobiography"],
      },
 
    ],
 
 
    projects:[
      {
        projectName: "Fatherhood",
        description: "Gotta be the best dad for my pups.",
        updated: "3 weeks ago",
      },
 
 
      {
        projectName: "Bro Adventures",
        description: "Fighting monsters and saving princesses with Finn.",
        updated: "1 hour ago",
      },
     
      {
        projectName: "Videogames",
        description: "Beat BMO's newest game before Finn does.",
        updated: "2 mins ago",
      },
      
      {
        projectName: "Find Space Dad",
        description: "Discover alien half of family and try to reconnect",
        updated: "3 years ago",
      },
    ],
  },

  {
    id: 4,
    name: "Finn",
    username: "finnTheHuman",
    bio: "Ready to kick some butts",
    followers: "6k",
    following: 13,
    stars: "8",
    location: "the Tree House, Land of Ooo",
    email: "finn@candymail.com",
    website: "adventurers.com",
    twitter: "@finn",
    highlights: ["Magic Sword", "Bionic Arm", "Hero of Princesses"],
    repos:[
      {
        repoName: "Puncha yo Buns",
        description: "I'm a buff baby that can dance like a man, I can shake-ah my fanny, I can shake-ah my can!",
        tags: ["embarrassing", "song", "baby"],
      },
 
 
      {
        repoName: "All Gummed Up Inside",
        description: "I can't keep pushing this down any deeper, Why do I keep trying if I can't keep her?",
        tags: ["music", "sad", "girl trouble"],
      },
 
 
      {
        repoName: "Everything's Falling into Place",
        description: "Everything's falling into place, I'm right where I should be. The tides of life all led me here, And that's why I'm not scared",
        tags: ["music", "song", "space"],
      },

      {
        repoName: "Underwear Song",
        description: "At first I had no underwear, But this time I brought underwear, I'm glad I remembered my underwear,",
        tags: ["music", "song", "underwear"],
      },
 
    ],
 
 
    projects:[
      {
        projectName: "Save Ooo...Again",
        description: "A hero's work is never done",
        updated: "3 weeks ago",
      },
 
 
      {
        projectName: "Dungeon Train",
        description: "Where did we leave that train again? Jake and I need to go back.",
        updated: "1 hour ago",
      },
     
      {
        projectName: "Videogames",
        description: "Beat BMO's newest game before Jake does.",
        updated: "2 mins ago",
      },
      
      {
        projectName: "Bring humans back to Ooo",
        description: "DIt's time to bring everybody home.",
        updated: "3 years ago",
      },
    ],
  },
]



const packages = [
  {
    title: "Docker",
    description:
      "A software platform used for building applications based on containers - small and lightweight execution environments.",
  },
  {
    title: "Apache Maven",
    description:
      "A default package manager used for the Java programming language and the Java runtime environment.",
  },
  {
    title: "NuGet",
    description:
      "A free and open sourced package manager used for the Microsoft development platforms including .NET.",
  },
];

// Utility Functions
const renderToDom = (divId, htmlToRender) => {
  const selectedId = document.querySelector(divId);
  selectedId.innerHTML = htmlToRender;
};


//Profile to DOM
const profileOnDom = (array) => {
  let domString = "";

  array.map((item) => {
    domString = `
    <div class="card" style="width: 18rem;">
    <div class="card-body">
      <img src="..." id="user-image">
      <h5 class="card-title" id="profile-name">${item.name}</h5>
      <h6 class="card-subtitle mb-2 text-body-secondary" id="username">${item.username}</h6>
      <p class="card-text" id="bio">${item.bio}</p>
      <div id="profile-btns">
        <button>Follow</button>
        <button>&#9825; Sponsor</button>
        <button>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
          <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/>
          </svg>
        </button>
      </div>
      <div id="influence">
        <p>${item.followers} followers</p>
        <p>${item.following} following</p>
        <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"/>
      </svg>${item.stars}</p>
      </div>
      <p>${item.location}</p>
      <p>${item.email}</p>
      <p>${item.website}</p>
      <p>${item.twitter}</p>
      <h6>Highlights</h6>
      <p>${item.highlights}</p>
    </div>
    </div>
    `;
  });

  renderToDom("#sidebar", domString);
};

//Packages to DOM
const allPackages = (array) => {
  let domString = "";
  for (const package of array) {
    domString += `<div class="card card-package" style="width: 18rem;">
    <div class="card-body">
      <h5 class="card-title">${package.title}</h5>
      <p class="card-text">${package.description}</p>
      <button type="button" class="btn btn-secondary btn-sm">Learn More</button>     
    </div>
  </div>`;
  }
  renderToDom("#packages", domString);
};

//Create Package Form
const packageForm = () => {
  const domString = `
  <form id="inputFormPackage">
    <h3 class="form-header">Create a new project</h3>
    <div class="form-floating mb-3">
      <input class="form-control form-control-lg" type="text" placeholder="Example 1" id="projectName" aria-label="projectName" required>
      <label for="projectName">Project Board Name</label>
    </div>
    <div class="mb-3">
    <label for="exampleFormControlTextarea1" class="form-label">Description</label>
    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
    <button type="submit" class="btn btn-success" id="form-submit">Create Package</button>
  </form>`;
  renderToDom("#packages-form", domString);

  const form = document.querySelector("#packages-form");
  form.addEventListener("submit", (e) => {
    e.preventDefault();

    const newPackageObj = {
      id: packages.length + 1,
      name: document.querySelector("#projectName").value,
      description: document.querySelector("#exampleFormControlTextarea1").value,
    };
    packages.push(newPackageObj);
    allPackages(packages);
    form.reset();
  });
};

const eventListeners = () => {
  document.querySelector(".nav").addEventListener('click', (e) => {
    e.preventDefault();
    if (e.target.id === "nav-packages") {
      allPackages(packages);
      packageForm()
    }
  });
}

//On Start Function
const startApp = () => {
  
  profileOnDom(profiles)
  eventListeners(); // always last
};

startApp();
